<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8"/>
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"/>
        <title>SqlMan - API åŠ å¯†/è§£å¯†</title>
        <meta
            name="description"
            content="AJ Framework ä¸€ä¸ªåŸºäº SpringMVC æ„å»ºçš„è½»é‡çº§æ¡†æ¶ï¼Œæ—¨åœ¨å¢å¼º SpringMVC å¹¶ä½¿å…¶æ›´å…· SpringBoot çš„ç‰¹æ€§ã€‚å®ƒæ‹¥æœ‰è®¸å¤šå°å‹ç»„ä»¶ï¼Œéå¸¸æ˜“äºä½¿ç”¨ã€‚"/>
        <meta name="keywords" content="AJ Framework, ajaxjs, ajaxjs framework, java framework, web framewwork"/>
        <meta name="viewport" content="width=device-width, initial-scale=1"/>
    
        <link rel="stylesheet" href="/style/docs/main.css"/>
        <link rel="icon" type="image/png" href="/asset/favicon.png"/>
        <script src="/asset/docs/js/common.js"></script>
    </head>
    <body>
        <nav>
            <div>
                <div class="links">
                    <a href="/">ğŸ  Home</a>
                    |
                                    âš™ï¸ Source:
                    <a target="_blank" href="https://github.com/lightweight-component/SqlMan">Github</a>/<a target="_blank" href="https://gitcode.com/lightweight-component/SqlMan/overview">Gitcode</a>
                    |
                    <a href="/docs/common/contact">âœ‰ï¸ Contact</a>
                </div>
                <h1>
                    <img src="/asset/favicon-2x.png" style="vertical-align: middle;height: 45px;margin-bottom: 6px;" /> 
                    SqlMan
                </h1>
                <h3>Lightweight Data Access Tools -- User Manual
                </h3>
            </div>
        </nav>
        <div>
            <menu>
                
                <ul>
                    <li class="selected">
                        <a href="/docs">Home</a>
                    </li>
                    <li>
                        <a href="/docs/quick-start">Quick Start</a>
                    </li>
                    <li>
                        <a href="/docs/setup">Setup</a>
                    </li>
                </ul>
                <h3>Run SQL</h3>
                <ul>
                    <li>
                        <a href="pages/api/init.html">åˆå§‹åŒ–ä¸€ä¸ªé¡¹ç›®</a>
                    </li>
                    <li>
                        <a href="pages/api/controller.html">åŸºäº Java æ¥å£çš„æ§åˆ¶å™¨</a>
                    </li>
                    <li>
                        <a href="pages/api/config.html">ç›¸å…³é…ç½®</a>
                    </li>
                    <li>
                        <a href="pages/api/package.html">æ‰“åŒ…ä¸éƒ¨ç½²</a>
                    </li>
                </ul>
                <h3>Run as Entity</h3>
                <ul>
                    <li class="data">
                        <a href="pages/data/conn.html">è¿æ¥æ•°æ®åº“</a>
                    </li>
                    <li>
                        <a href="pages/data/crud.html">å¢åˆ æ”¹æŸ¥ CRUD</a>
                    </li>
                    <li>
                        <a href="pages/data/xml.html">XML ç®¡ç† SQL</a>
                    </li>
                    <li>
                        <a href="pages/data/bean-validator.html">Bean å®ä½“æ ¡éªŒ</a>
                    </li>
                </ul>
                <h3>Low Code</h3>
                <ul>
                    <li>
                        <a href="../../widgets">å°éƒ¨ä»¶ Widgets</a>
                    </li>
                </ul>
                <h3>Advanced</h3>
                <ul>
                    <li>
                        <a href="../../widgets">å°éƒ¨ä»¶ Widgets</a>
                    </li>
                </ul>
                <h3>Misc</h3>
                <ul>
                    <li><a href="/docs/common/versions">Release History</a></li>
                    <li><a href="/docs/common/contact">Contact</a></li>
                </ul>
            </menu>
            <article>
                <h1>API æ¥å£åŠ å¯†/è§£å¯†</h1>
<p>ä¸ºäº†å®‰å…¨æ€§éœ€è¦å¯¹æ¥å£çš„æ•°æ®è¿›è¡ŒåŠ å¯†å¤„ç†ï¼Œä¸èƒ½æ˜æ–‡æš´éœ²æ•°æ®ã€‚å¯¹äºæ¥å£çš„è¡Œä¸ºï¼Œåˆ†åˆ«æœ‰ï¼š</p>
<ul>
<li>å…¥å‚ï¼Œå¯¹ä¼ è¿‡æ¥çš„åŠ å¯†å‚æ•°è§£å¯†ã€‚æ¥å£å¤„ç†å®¢æˆ·ç«¯æäº¤çš„å‚æ•°æ—¶å€™ï¼Œè¿™é‡Œç»Ÿä¸€çº¦å®šå¯¹ HTTP Raw Body æäº¤çš„æ•°æ®ï¼ˆå·²åŠ å¯†çš„å¯†æ–‡ï¼‰ï¼Œè½¬æ¢ä¸º JSON å¤„ç†ï¼Œè¿™æ˜¯æœ€å¸¸è§çš„æäº¤æ–¹å¼ã€‚å…¶ä»– QueryStringã€æ ‡å‡† Formã€HTTP Header çš„å…¥å‚åˆ™ä¸æ”¯æŒã€‚</li>
<li>å‡ºå‚ï¼Œå¯¹è¿”å›å€¼è¿›è¡ŒåŠ å¯†ã€‚æ¥å£ç»Ÿä¸€è¿”å›åŠ å¯†åçš„ JSON ç»“æœã€‚</li>
</ul>
<p>æœ‰äººæŠŠåŠ å¯†ç»“æœåŸæ–‡è¾“å‡ºï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p>
<p><img src="/asset/docs/temp/1.png" alt="">
ä½†ç¬”è€…è§‰å¾—é‚£æ˜¯ä¸€ç§åæ¨¡å¼ï¼Œè€Œä¿ç•™åŸæœ‰ JSON ç»“æœæ›´å¥½ï¼Œä¹Ÿç¬¦åˆæ—¢æœ‰çš„ç»Ÿä¸€è¿”å›ç»“æœï¼Œå³æŠŠ<code>data</code>æ•°æ®åŠ å¯†ï¼Œå…¶ä»–<code>code</code>ã€<code>msg</code>ç­‰çš„æ­£å¸¸æ˜¾ç¤ºã€‚å¦‚ä¸‹æäº¤çš„ JSONã€‚</p>
<pre><code class="language-json">{
    &quot;errCode&quot;: &quot;0&quot;,
    &quot;data&quot;: &quot;BQduoGH4PI+6jxgu+6S2FWu5c/vHd+041ITnCH9JulUKpPX8BvRTvBNYfP7â€¦â€¦&quot;
}
</code></pre>
<h2>åŠ å¯†ç®—æ³•</h2>
<p>åŠ å¯†ç®—æ³•éœ€è¦è°ƒç”¨æ–¹ï¼ˆå¦‚æµè§ˆå™¨ï¼‰ä¸ API æ¥å£åå•†å¥½ã€‚ä¸€èˆ¬é‡‡ç”¨ RSA åŠ å¯†ç®—æ³•ã€‚è™½ç„¶ RSA æ²¡ AES é€Ÿåº¦é«˜ï¼Œä½†èƒœåœ¨æ˜¯éå¯¹ç§°åŠ å¯†ï¼ŒAES è¿™ç§å¯¹ç§°åŠ å¯†æœºåˆ¶åœ¨è¿™åœºåˆå°±ä¸é€‚ç”¨äº†ï¼ˆå› ä¸ºæµè§ˆå™¨æ˜¯ä¸èƒ½æ”¾ç½®ä»»ä½•å¯†é’¥çš„ï¼Œâ€”â€”é™¤éæ”¾ç½®éå¯¹ç§°çš„å…¬é’¥ï¼‰ã€‚</p>
<p>å½“ç„¶ï¼Œå¦‚æœä½ è®¾è®¡çš„ API æ¥å£ç»™å…¶ä»–ç¬¬ä¸‰æ–¹è°ƒç”¨è€Œä¸æ˜¯æµè§ˆå™¨ï¼Œå¯ä»¥ä¿è¯å¯†é’¥å®‰å…¨çš„è¯ï¼Œé‚£ä¹ˆä½¿ç”¨ AES ä¹Ÿå¯ä»¥ï¼ŒåŒ…æ‹¬å…¶ä»–æ‘˜è¦ç®—æ³•åŒç†äº¦å¯ï¼Œå¤§å®¶å•†å®šå¥½ç®—æ³•ï¼ˆmd5/sha1/sha256â€¦â€¦ï¼‰å’Œç›å€¼ï¼ˆSlatï¼‰å³å¯ã€‚</p>
<p>è¯¥ç»„ä»¶å½“å‰ä»…æ”¯æŒ RSAï¼ˆ1024bit keyï¼‰ã€‚ä¸‹é¢æ›´å¤šçš„ç®—æ³•åœ¨è·¯ä¸Šã€‚</p>
<ul>
<li>RSAï¼ˆ512/2048â€¦â€¦ï¼‰</li>
<li>AES</li>
<li>MD5/SHA1/SHA256â€¦â€¦ with Slat</li>
</ul>
<h1>ä½¿ç”¨æ–¹å¼</h1>
<p>é¦–å…ˆè§‚å¯Ÿè¿™ä¸ª Spring MVC æ¥å£å£°æ˜ï¼Œä¸ä¸€èˆ¬çš„ JSON æäº¤æ•°æ®æ–¹å¼æ— å¼‚ï¼Œä»ç„¶éœ€è¦æ³¨è§£<code>@RequestBody</code>ï¼š</p>
<pre><code>@PostMapping(&quot;/submit&quot;)
boolean jsonSubmit(@RequestBody User user);
</code></pre>
<p>é‡ç‚¹æ˜¯ User è¿™ä¸ª DTOï¼Œä¸ºäº†æ ‡æ˜æ˜¯åŠ å¯†æ•°æ®ï¼Œéœ€è¦åœ¨è¿™ä¸ª Bean ä¸Šå£°æ˜æˆ‘ä»¬è‡ªå®šä¹‰çš„æ³¨è§£<code>@EncryptedData</code>ï¼š</p>
<pre><code class="language-java">package com.ajaxjs.api.encryptedbody;

@EncryptedData
public class User {
    private String name;
    private int age;

    // Getters and Setters
}
</code></pre>
<p>åŒæ—¶æˆ‘ä»¬æäº¤çš„å¯¹è±¡ä¸å†æ˜¯ User çš„ JSONï¼Œè€Œæ˜¯<code>DecodeDTO</code>ï¼ˆè™½ç„¶æœ€ç»ˆè½¬æ¢ä¸º<code>User</code>ï¼ŒæˆåŠŸè§£å¯†çš„è¯ï¼‰ï¼Œå³:</p>
<pre><code class="language-java">package com.ajaxjs.api.encryptedbody;

import lombok.Data;

@Data
public class DecodeDTO {
    /**
     * Encrypted data
     */
    private String data;
}
</code></pre>
<p>å½“ç„¶ä½ å¯ä»¥ä¿®æ”¹è¿™ä¸ª DTO ä¸ºä½ ç¬¦åˆçš„ç»“æ„ã€‚æäº¤çš„æ ·å­å°±æ˜¯åƒ:</p>
<pre><code class="language-json">{
    &quot;data&quot;: &quot;BQduoGH4PI+6jxgu+6S2FWu5c/vHd+041ITnCH9JulUKpPX8BvRTvBNYfP7â€¦â€¦&quot;
}
</code></pre>
<p>è¿™ä¸ªåŠ å¯†è¿‡çš„å¯†æ–‡æ€ä¹ˆæ¥çš„ï¼Ÿå½“ç„¶æ˜¯ä½ å®¢æˆ·ç«¯åŠ å¯†åçš„ç»“æœã€‚</p>
<h2>åˆå§‹åŒ–</h2>
<p>åœ¨ YAML é…ç½®ä¸­åŠ å…¥ï¼š</p>
<pre><code class="language-yaml">api:
  EncryptedBody:
    privateKey: MIICdgIBADANBgkqhkiG9w0BAQâ€¦â€¦
</code></pre>
<p>ä¸»è¦æ˜¯ RSA çš„ç§é’¥ã€‚ç„¶ååœ¨ Spring é…ç½®ç±»ä¸­åŠ å…¥ï¼š</p>
<pre><code class="language-java">@Value(&quot;${api.EncryptedBody.privateKey}&quot;)
private String apiPrivateKey;

@Override
public void configureMessageConverters(List&lt;HttpMessageConverter&lt;?&gt;&gt; converters) {
    converters.add(0, new EncryptedBodyConverter(apiPrivateKey));
}
</code></pre>

            </article>
        </div>

        <footer>
    SqlMan, a part of <a href="https://www.cnblogs.com/frankcheung/">AJ-Framework</a>, author: Frank Cheung, mail:
    frank@ajaxjs.com, visit <a href="https://www.cnblogs.com/frankcheung/">my tech blog(In Chinese)</a>.
    <br />
    <br />
     Copyright Â© 2025 Frank Cheung. All rights reserved.
</footer>
    </body>
</html>